{% extends "base3.html" %}

{% block content %}
  <h1>Voice Mode</h1>
  <hr>
  <form id="productForm" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div>
          <label for="id_patient_id">Patient ID:</label>
          <input type="text" id="id_patient_id" name="patient_id">
          <button type="button" onclick="readAloud('Patient ID', document.getElementById('id_patient_id').value)">Read Aloud</button>
      </div>
      <div>
          <label for="id_patient_name">Patient Name:</label>
          <input type="text" id="id_patient_name" name="patient_name">
          <button type="button" onclick="readAloud('Patient Name', document.getElementById('id_patient_name').value)">Read Aloud</button>
      </div>
      <div>
          <label for="id_age">Age:</label>
          <input type="number" id="id_age" name="age">
          <button type="button" onclick="readAloud('Age', document.getElementById('id_age').value)">Read Aloud</button>
      </div>
      <div>
          <label for="id_gender">Gender:</label>
          <input type="text" id="id_gender" name="sex" step="0.01">
          <button type="button" onclick="readAloud('Gender', document.getElementById('id_gender').value)">Read Aloud</button>
      </div>
      <div>
          <label for="id_reason_for_visit">Reason for Visit:</label>
          <input type="text" id="id_reason_for_visit" name="reason_for_visit" step="0.01">
          <button type="button" onclick="readAloud('Reason for Visit', document.getElementById('id_reason_for_visit').value)">Read Aloud</button>
      </div>
      <div>
          <label for="id_image">Image:</label>
          <input type="file" id="id_image" name="image" accept="image/*">
          <button type="button" onclick="readAloud('Image', 'Image input')">Read Aloud</button>
      </div>
      <button type="submit">Submit</button>
  </form>

  <script>
      function readAloud(label, value) {
          const msg = new SpeechSynthesisUtterance();
          msg.text = label + ": " + value;
          window.speechSynthesis.speak(msg);
      }
  </script>

  
  <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-primary" style="background-color: yellow; color: black; padding: 10px 20px; border: none; cursor: pointer; margin: 5px; text-decoration: none; display: inline-block;">Back</a>
{% endblock content %}